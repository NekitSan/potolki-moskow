class Webp{eventsAttach(){this.testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}))}testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}init(){this.eventsAttach()}}const WEBP_TRUE=new Webp;WEBP_TRUE.init(),$(document).ready((function(){const e=document.querySelector("#pop_up"),t=e.querySelector(".pop_up__stages").children,n=t.length,o=document.querySelector(".pop_up__button"),s=e.querySelector(".button--left"),l=e.querySelector(".button--next"),c=e.querySelector(".completed__button"),d=e.querySelector(".close");function i(e){let t=[];for(let n=0;n<e.length;n++)e[n].checked&&t.push(e[n].value);return t}function a(e){return e.value}function p(e){let t={size:stage_2.elements.size,name:stage_data.elements.username,phone:stage_data.elements.userphone,scnetw:stage_data.elements["soc-network"]},n={zona:stage_1.elements.zona,view:stage_3.elements.view,material:stage_4.elements.material,extra:stage_5.elements.extra,bonus:stage_6.elements.bonus},o={zona:i(n.zona),size:a(t.size),view:i(n.view),material:i(n.material),extra:i(n.extra),bonus:i(n.bonus),name:a(t.name),phone:a(t.phone)};return"soc-network"==e?(o.scnetw=a(t.scnetw),o):o}s.addEventListener("click",()=>{for(let e=0;e<n;e++)t[e].classList.contains("hidden")||e<=6&&(0!=e&&(t[e].classList.add("hidden"),t[e-1].classList.remove("hidden")),1==e&&s.classList.add("hidden"))}),l.addEventListener("click",()=>{for(let o=0;o<n;o++)if(!t[o].classList.contains("hidden")){if(o<6&&(t[o].classList.add("hidden"),t[o+1].classList.remove("hidden")),6==o)if(0!=e.querySelector(".pop_up__networks__pointer").children.length){0!=p("soc-network").scnetw.length?(t[o].classList.add("hidden"),t[o+1].classList.remove("hidden"),document.querySelector("#pop_up .close").classList.add("hidden"),document.querySelector(".pop_up__control").classList.add("hidden")):alert("Заполните поле для соц-сетей!")}else{let e=p();0!=e.name.length&&0!=e.phone.length?(t[o].classList.add("hidden"),t[o+1].classList.remove("hidden"),document.querySelector("#pop_up .close").classList.add("hidden"),document.querySelector(".pop_up__control").classList.add("hidden")):alert("Заполните обязательные поля!")}break}s.classList.remove("hidden")}),c.addEventListener("click",()=>{document.body.classList.remove("unscroll"),e.classList.remove("fixed"),document.querySelector(".testing").classList.add("hidden"),e.querySelector("#stage_completed").classList.add("hidden"),document.querySelector(".pop_up__button--text").innerHTML="Изменить тест",t[0].classList.remove("hidden"),document.querySelector("#pop_up .close").classList.remove("hidden"),document.querySelector(".pop_up__control").classList.remove("hidden")}),o.addEventListener("click",()=>{document.querySelector(".testing").classList.remove("hidden"),document.querySelector("#pop_up .close").classList.remove("hidden"),e.classList.add("fixed"),document.body.classList.add("unscroll")}),d.addEventListener("click",()=>{e.classList.remove("fixed"),document.body.classList.remove("unscroll"),document.querySelector("#pop_up .close").classList.add("hidden")}),$("#stage_6 input:checkbox").click((function(){$(this).is(":checked")&&$("#stage_6 input:checkbox").not(this).prop("checked",!1)}));const r={phone__return:{tile:"Нужна помощь специалиста?",text:"Оставьте свой номер и Вам в течении нескольких минут перезвонит консультант. Он ответит на все вопросы о нашей продукции"},phone__measurer:{tile:"Вызвать замерщика‍",text:"Перезвоним через 5 минут, чтобы уточнить удобное для вас время замера"}},u=Object.keys(r);$("#phone__measurer").click((function(){for(let e=0;e<u.length;e++)$(this).attr("id")==u[e]&&($("#pop_up__phone--call_tile").text(r[u[e]].tile),$("#pop_up__phone--call_text").text(r[u[e]].text));$(".pop_up__phone--call").removeClass("hidden"),$(".pop_up__phone--call .close").removeClass("hidden"),$("body").addClass("unscroll")})),$("#phone__return").click((function(){for(let e=0;e<u.length;e++)$(this).attr("id")==u[e]&&($("#pop_up__phone--call_tile").text(r[u[e]].tile),$("#pop_up__phone--call_text").text(r[u[e]].text));$(".pop_up__phone--call").removeClass("hidden"),$(".pop_up__phone--call .close").removeClass("hidden"),$("body").addClass("unscroll")})),$(".whats .extra__button").click((function(){for(let e=0;e<u.length;e++)$(this).attr("id")==u[e]&&($("#pop_up__phone--call_tile").text(r[u[e]].tile),$("#pop_up__phone--call_text").text(r[u[e]].text));$(".pop_up__phone--call").removeClass("hidden"),$(".pop_up__phone--call .close").removeClass("hidden"),$("body").addClass("unscroll")})),$(".pop_up__phone--call .pop_up__button").click((function(e){return e.preventDefault(),0!=$("#masseg input[name='phoneUsername']").val().length&&0!=$("#masseg input[name='phoneUserphone']").val().length?(console.log($("#masseg input[name='phoneUsername']").val()),console.log($("#masseg input[name='phoneUserphone']").val()),$("body").removeClass("unscroll"),$(".pop_up__phone--call").addClass("hidden"),$(".pop_up__phone--call .close").addClass("hidden")):alert("Заполните обязательные поля!"),!1})),$(".pop_up__phone--call .close").click((function(){$(".pop_up__phone--call").addClass("hidden"),$("body").removeClass("unscroll"),$(this).addClass("hidden")}));document.querySelector(".pop_up__networks__plus");const _={vk:'<input type="text" name="soc-network" placeholder="id профиля">',inst:'<input type="text" name="soc-network" placeholder="@id профиля">',ok:'<input type="text" name="soc-network" placeholder="Ссылка на профиль">',faceb:'<input type="text" name="soc-network" placeholder="id профиля">',tel:'<input type="text" name="soc-network" placeholder="@id профиля">'},h=Object.keys(_);$("#container__netw input:checkbox").click((function(){$(this).is(":checked")&&$("#container__netw input:checkbox").not(this).prop("checked",!1);for(let e=0;e<h.length;e++)if($(this).attr("id")==h[e]){let t=$(this).siblings(".soc-network__icon");$(".pop_up__networks__pointer").html(_[h[e]]+'<div id="netw--delete"></div>'),$(t).clone().appendTo(".pop_up__networks__pointer")}})),$("#stage_data").mouseover((function(){$("#netw--delete")&&$("#netw--delete").click((function(){$(".pop_up__networks__pointer").empty()}))})),function(){let e=document.querySelector(".reviews__container").children;for(let t=0;t<e.length;t++)for(let n=0;n<$(e[t].children[2]).attr("value");n++)$($(e[t].children[2]).children()[n]).addClass("active")}()}));